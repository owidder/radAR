<style>

    #contract-code .code {
        font-size: 1.2em;
    }

</style>

<div class="slidecounter"></div>
<div class="title"></div>
<div class="code"></div>

<script>

    /* global slidAR */

    (function () {
        const ID = "contract-code";

        slidAR.coolText.glowText.create("#" + ID + " .title", ["Hash store",], "small glow");

        slidAR.showCode.js("#" + ID + " .code",
            "pragma solidity ^0.4.24;\n" +
            "contract HashStore {\n" +
            "    struct Entry {\n" +
            "        address source;\n" +
            "        uint blockNumber;\n" +
            "        uint blockTimestamp;\n" +
            "    }\n" +
            "    mapping (string => Entry) entries;\n" +
            "\n" +
            "    function storeHash(string hash) public {\n" +
            "        if(entries[hash].source != 0x0) revert();\n" +
            "        Entry memory entry = Entry(msg.sender, block.number, block.timestamp);\n" +
            "        entries[hash] = entry;\n" +
            "    }\n" +
            "\n" +
            "    function getSourceFromHash(string hash) public view returns(address) {\n" +
            "        return entries[hash].source;\n" +
            "    }\n" +
            "\n" +
            "    function getBlockNumberFromHash(string hash) public view returns(uint) {\n" +
            "        return entries[hash].blockNumber;\n" +
            "    }\n" +
            "\n" +
            "    function getBlockTimestampFromHash(string hash) public view returns(uint) {\n" +
            "        return entries[hash].blockTimestamp;\n" +
            "    }\n" +
            "}\n"
        );

        slidAR.initPhase.markSlideAsReady(ID);
    })()
</script>